<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"
      integrity="sha256-eTyxS0rkjpLEo16uXTS0uVCS4815lc40K2iVpWDvdSY="
      crossorigin="anonymous"
    ></script>
    <style>
      table {
        width: 500px;
        height: 500px;
        text-align: center;
      }
      .ym {
        color: green;
        font-size: 2rem;
      }
      .sun {
        color: red;
      }
      .sat {
        color: blue;
      }
    </style>
  </head>
  <body>
    <div>
      날짜 : <input type="text" id="day" /><br />
      내용 : <input type="text" id="con" /><br /><br />
      <button onclick="wright()">작성</button>
    </div>
    <table>
      <caption>
        <div class="ym">2022년 7월</div>
      </caption>
      <tr>
        <td class="sun">日</td>
        <td>月</td>
        <td>火</td>
        <td>水</td>
        <td>木</td>
        <td>金</td>
        <td class="sat">土</td>
      </tr>
      <tr>
        <td class="sun"><p></p></td>
        <td><p></p></td>
        <td><p></p></td>
        <td><p></p></td>
        <td><p></p></td>
        <td><p>1</p></td>
        <td class="sat"><p>2</p></td>
      </tr>
      <tr>
        <td class="sun"><p>3</p></td>
        <td><p>4</p></td>
        <td><p>5</p></td>
        <td><p>6</p></td>
        <td><p>7</p></td>
        <td><p>8</p></td>
        <td class="sat"><p>9</p></td>
      </tr>
      <tr>
        <td class="sun"><p>10</p></td>
        <td><p>11</p></td>
        <td><p>12</p></td>
        <td><p>13</p></td>
        <td><p>14</p></td>
        <td><p>15</p></td>
        <td class="sat"><p>16</p></td>
      </tr>
      <tr>
        <td class="sun"><p>17</p></td>
        <td><p>18</p></td>
        <td><p>19</p></td>
        <td><p>20</p></td>
        <td><p>21</p></td>
        <td><p>22</p></td>
        <td class="sat"><p>23</p></td>
      </tr>
      <tr>
        <td class="sun"><p>24</p></td>
        <td><p>25</p></td>
        <td><p>26</p></td>
        <td><p>27</p></td>
        <td><p>28</p></td>
        <td><p>29</p></td>
        <td class="sat"><p>30</p></td>
      </tr>
      <tr>
        <td class="sun"><p>31</p></td>
        <td><p></p></td>
        <td><p></p></td>
        <td><p></p></td>
        <td><p></p></td>
        <td><p></p></td>
        <td class="sat"><p></p></td>
      </tr>
    </table>

    <script>
      let target;
      // p 태그를 저장하기 위한 전역 변수 설정
      $("td > p").on("click", function () {
        // td 태그 내의 p 태그를 클릭했을 때 함수 실행
        $("#day").val($(this).text());
        // 날짜를 입력하는 #day의 값을 클릭한 p 태그의 값으로 설정 #day = 클릭한 p태그 값
        target = this;
        // target에 p 태그를 저장
      });
      function wright() {
        let con = $("#con").val();
        // 내용을 입력하는 #con의 값을 변수 con에 저장
        $(target)
          // target은 위에서 설정한 this = 내가 클릭한 p 태그
          .parent()
          // 클릭된 p 태그의 부모 요소 (td태그)
          .append("<span>" + con + "</span><br />");
        // append 추가, 입력한 내용인 #con을

        //(클릭된 p 태그)의 부모 요소 (td 태그)를 찾아, 그 안에 con 변수의 값을 포함하는
        //새로운 span 태그와 줄바꿈 (<br />)을 추가

        // 초기화
        $("#con").val("");
        $("#day").val("");
      }
    </script>
  </body>
</html>

<!-- td에 hover 시 커서 손가락으로 변경 -->
